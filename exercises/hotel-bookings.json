{
  "id": "hotel-bookings",
  "title": "Reservas de Hotel por Cidade e Preço",
  "difficulty": "hard",
  "score": 100,
  "category": "REST API",
  "timeLimit": 180,
  "description": "# Reservas de Hotel por Cidade e Preço\n\nUma REST API contém informações sobre reservas de hotéis. Dada uma cidade, preço máximo por noite e número mínimo de avaliações, retorne os nomes dos hotéis que atendem a TODOS os critérios: (1) localizado na cidade especificada, (2) preço por noite menor ou igual ao máximo, (3) número de avaliações maior ou igual ao mínimo.\n\n## Acesso à API\n\n```\n/api/hotels?city=<cityName>&page=<pageNumber>\n```\n\n## Formato da Resposta\n\nResposta paginada com array de hotéis.\n\nCada hotel tem:\n- **id**: ID único\n- **name**: Nome do hotel\n- **city**: Cidade\n- **price_per_night**: Preço por noite\n- **rating**: Avaliação (1-5 estrelas)\n- **number_of_reviews**: Número de avaliações\n- **amenities**: Array de comodidades\n\n## Descrição da Função\n\nComplete a função `getQualityHotels`.\n\n**Parâmetros**:\n- **city**: nome da cidade\n- **maxPrice**: preço máximo por noite (inclusivo)\n- **minReviews**: número mínimo de avaliações (inclusivo)\n\n**Retorna**: Array de nomes de hotéis que atendem TODOS os critérios, ordenados pela API.",
  "functionSignature": {
    "name": "getQualityHotels",
    "params": [
      {
        "name": "city",
        "type": "string"
      },
      {
        "name": "maxPrice",
        "type": "number"
      },
      {
        "name": "minReviews",
        "type": "number"
      }
    ],
    "returnType": "Promise<string[]>"
  },
  "starterCode": "async function getQualityHotels(city: string, maxPrice: number, minReviews: number): Promise<string[]> {\n  // TODO: Implementar\n  return [];\n}",
  "mockApi": {
    "proxyPath": "/api/hotels",
    "endpoints": [
      {
        "path": "/hotels",
        "method": "GET",
        "paginated": true,
        "queryParams": [
          "city",
          "page"
        ],
        "perPage": 10,
        "totalRecords": 700,
        "dataGenerator": {
          "type": "array",
          "seed": 66666,
          "itemSchema": {
            "id": "{{index + 1}}",
            "name": "{{chance.pickone(['Grand', 'Royal', 'Imperial', 'Plaza', 'Luxury', 'Comfort', 'Premier', 'Elite'])}} {{chance.pickone(['Hotel', 'Resort', 'Inn', 'Suites', 'Lodge'])}}",
            "city": "{{chance.pickone(['Paris', 'London', 'Tokyo', 'New York', 'Barcelona', 'Dubai', 'Singapore', 'Rome', 'Amsterdam', 'Bangkok', 'Istanbul', 'Los Angeles', 'Hong Kong', 'Sydney', 'Berlin', 'Madrid', 'San Francisco', 'Milan', 'Vienna', 'Prague'])}}",
            "price_per_night": "{{chance.integer({min: 45, max: 550})}}",
            "rating": "{{chance.floating({min: 1.5, max: 5.0, fixed: 1})}}",
            "number_of_reviews": "{{chance.integer({min: 10, max: 6000})}}",
            "amenities": ["WiFi", "Parking", "{{chance.pickone(['Pool', 'Beach', 'Spa', 'Gym', 'Restaurant', 'Bar', 'Room Service', 'Airport Shuttle'])}}"],
            "stars": "{{chance.integer({min: 2, max: 5})}}",
            "address": "{{chance.address()}}"
          },
          "totalRecords": 700
        },
        "responseWrapper": {
          "page": "{{query.page || 1}}",
          "per_page": 10,
          "total": "{{cityDataLength}}",
          "total_pages": "{{Math.ceil(cityDataLength / 10)}}",
          "data": "{{filtered_by_city}}"
        }
      }
    ]
  },
  "testCases": [
    {
      "id": "sample-0",
      "name": "Caso de Exemplo: maxPrice=200, minReviews=100",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 200,
        "minReviews": 100
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "edge-no-reviews",
      "name": "Caso Limite: minReviews=0 (aceita sem avaliações)",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 300,
        "minReviews": 0
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "edge-very-popular",
      "name": "Caso Limite: minReviews=4000 (muito popular)",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 500,
        "minReviews": 4000
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "edge-budget",
      "name": "Caso Limite: maxPrice=100 (orçamento baixo)",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 100,
        "minReviews": 50
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "edge-luxury",
      "name": "Caso Limite: maxPrice=500 (luxo)",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 500,
        "minReviews": 10
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "edge-impossible",
      "name": "Caso Limite: Critérios impossíveis",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 50,
        "minReviews": 5000
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "mid-range-1",
      "name": "Caso Médio: Preço e avaliações moderados",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 250,
        "minReviews": 500
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "edge-boundary-price",
      "name": "Caso Limite: maxPrice no limite mínimo",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 51,
        "minReviews": 0
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "edge-strict-both",
      "name": "Caso Limite: Ambos os critérios rigorosos",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 150,
        "minReviews": 2000
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "test-maxcost-30",
      "name": "Teste: hotéis com custo máximo 30",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 30,
        "minReviews": 0
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "test-maxcost-40",
      "name": "Teste: hotéis com custo máximo 40",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 40,
        "minReviews": 0
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "test-maxcost-55",
      "name": "Teste: hotéis com custo máximo 55",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 55,
        "minReviews": 0
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "test-maxcost-75",
      "name": "Teste: hotéis com custo máximo 75",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 75,
        "minReviews": 100
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "test-maxcost-85",
      "name": "Teste: hotéis com custo máximo 85",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 85,
        "minReviews": 200
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    },
    {
      "id": "test-maxcost-95",
      "name": "Teste: hotéis com custo máximo 95",
      "type": "visible",
      "input": {
        "city": "ANY_CITY",
        "maxPrice": 95,
        "minReviews": 300
      },
      "validation": {
        "type": "filter_check",
        "condition": "price_per_night <= maxPrice && number_of_reviews >= minReviews",
        "preserveOrder": true
      },
      "timeout": 12000
    }
  ],
  "hints": [
    "Ambos os critérios devem ser atendidos simultaneamente (AND, não OR)",
    "price_per_night <= maxPrice (inclusivo)",
    "number_of_reviews >= minReviews (inclusivo)",
    "A API já filtra por cidade"
  ],
  "apiDocumentation": {
    "baseUrl": "/api",
    "endpoints": [
      {
        "path": "/hotels",
        "method": "GET",
        "description": "Obter hotéis filtrados por cidade"
      }
    ]
  },
  "referenceCode": "async function getQualityHotels(city: string, maxPrice: number, minReviews: number): Promise<string[]> {\n  const results: string[] = [];\n  let page = 1;\n  let totalPages = 1;\n\n  while (page <= totalPages) {\n    const response = await fetch(`/api/hotels?city=${encodeURIComponent(city)}&page=${page}`);\n    const json = await response.json();\n    totalPages = json.total_pages;\n    \n    json.data\n      .filter((hotel: any) => hotel.price_per_night <= maxPrice && hotel.number_of_reviews >= minReviews)\n      .forEach((hotel: any) => results.push(hotel.name));\n    \n    page++;\n  }\n  \n  return results;\n}"
}
